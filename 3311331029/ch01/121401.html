<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>Fetch Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .json-output {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            background: #f5f5f5;
        }
        .value {
            font-weight: bold;
            color: #007bff;
        }
    </style>
</head>

<body>
<h1>Fetch Demo</h1>

<div class="json-output">
    <h3>JSON 資料格式</h3>

    <form id="formElem">
        <label>
            Name:
            <input type="text" name="name" value="John">
        </label><br><br>

        <label>
            Surname:
            <input type="text" name="surname" value="Smith">
        </label><br><br>

        <label>
            Age:
            <input type="number" name="age" value="20">
        </label><br><br>

        <input type="submit" value="送出">
    </form>

    <pre id="jsonOutput"></pre>
</div>

<script>
const formElem = document.getElementById("formElem");
const jsonOutput = document.getElementById("jsonOutput");

formElem.onsubmit = async (e) => {
    e.preventDefault();

    // 將表單資料整理成 JSON
    const data = {
        name: formElem.name.value,
        surname: formElem.surname.value,
        age: formElem.age.value
    };

    try {
        const response = await fetch(
            "https://jsonplaceholder.typicode.com/posts",
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            }
        );

        const result = await response.json();

        // 顯示結果
        console.log(result);
        jsonOutput.textContent = JSON.stringify(result, null, 2);

    } catch (error) {
        jsonOutput.textContent = "發生錯誤：" + error;
    }
};
</script>

</body>
</html>
